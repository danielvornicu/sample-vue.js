webpackJsonp([1],{"4GjL":function(e,t,s){e.exports=s.p+"static/img/logo.4461d12.jpg"},LKS9:function(e,t){e.exports={liste:{actions:{titre:"Action",consulter:"Consulter",modifier:"Modifier",supprimer:"Supprimer",filtrerParPrenom:"Filtrer par prénom: ",filtreListe:"Filtre appliqué à la liste: ",consulterTitle:"Consulter cet client",modifierTitle:"Modifier cet client",supprimerTitle:"Supprimer cet client",creerSucces:"Le client a été crée avec success: ",modifierSucces:"Le client a été modifié avec success: ",supprimerSucces:"Le client a été supprimé avec success."},clients:{vuejs:{titre:"Liste des Clients (version VueJS)"}}},fiche:{boutons:{annuler:"Annuler",creer:"Créer",valider:"Valider",supprimer:"Supprimer",annulerTitle:"Annuler la saisie du client",creerTitle:"Créer un nouveau client",validerTitle:"Valider et enregistrer les données du client",validerDisabledTitle:"Desactivé si données invalides",supprimerTitle:"Supprimer le client",supprimerConfirm:"Voulez-vous supprimer le client ?"},client:{titres:{modification:"Modification du Client: ",creation:"Création d'un Client ",consultation:"Consultation du Client: "},nom:"Nom :",nomPlaceHolder:"Veuillez saisier le nom",prenom:"Prénom :",prenomPlaceHolder:"Veuillez saisier le prénom",validation:{nom:{required:"Le nom est obligatoire.",minlength:"Le nom doit contenir au moins 3 caracteres.",maxlength:"Le nom ne doit pas depasser 50 caracteres."},prenom:{required:"Le prénom est obligatoire.",minlength:"Le prénom doit contenir au moins 3 caracteres.",maxlength:"Le prénom ne doit pas depasser 50 caracteres."}}}}}},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),i=s("LKS9"),a=s.n(i),r={name:"header-component",data:function(){return{pageTitle:a.a.liste.clients.vuejs.titre}}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("header",[t("nav",{staticClass:"navbar navbar-expand-sm bg-primary navbar-dark"},[t("div",[t("router-link",{staticClass:"navbar-brand",attrs:{to:"/clients"}},[this._v(this._s(this.pageTitle))])],1)])])])},staticRenderFns:[]},o=s("VU/8")(r,l,!1,null,null,null).exports,c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"text-center"},[t("footer",{staticClass:"footer"},[t("span",{staticClass:"text-muted"},[this._v("@2020")])])])}]},d=s("VU/8")(null,c,!1,null,null,null).exports,u=s("BO1k"),m=s.n(u),v=s("mvHQ"),h=s.n(v),p={name:"flash-messages-component",mounted:function(){var e=this;this.$root.$on("flash message",function(t,s){e.flashMessages=[];var n={id:(e.flashMessages.length>0?e.flashMessages[e.flashMessages.length-1].id:0)+1,value:t,type:s};console.log("Message received: "+t+", type: "+s),e.flashMessages.push(n),setTimeout(function(){var t=Array.prototype.slice.call(document.querySelectorAll(".close"),0);t.length>0&&t.forEach(function(t){console.log("adding event listener",t),t.addEventListener("click",function(){var s=t.dataset.target,n=document.getElementById(s);if(null!==n){var i=s.substring(7);i>0&&e.removeFlashMessage(i),n.remove()}})})},1e3)})},data:function(){return{flashMessages:[]}},methods:{logFlashMessages:function(){console.log("Flash messages: "+h()(this.flashMessages))},removeFlashMessage:function(e){var t=!0,s=!1,n=void 0;try{for(var i,a=m()(this.flashMessages);!(t=(i=a.next()).done);t=!0){var r=i.value;if(r.id==e){var l=this.flashMessages.indexOf(r);this.flashMessages.splice(l,1)}}}catch(e){s=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(s)throw n}}}}},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"flashMessages"}},e._l(e.flashMessages,function(t,n){return s("div",{key:t.id,attrs:{id:"message"+t.id}},["success"===t.type?s("div",{staticClass:"alert alert-success alert-dismissible"},[s("button",{staticClass:"close",attrs:{"data-target":"message"+t.id,"data-dismiss":"alert","aria-label":"delete"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),e._v(" "),s("div",[e._v(e._s(t.value))])]):"warning"===t.type?s("div",{staticClass:"alert alert-warning alert-dismissible"},[s("button",{staticClass:"close",attrs:{"data-target":"message"+t.id,"data-dismiss":"alert","aria-label":"delete"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),e._v(" "),s("div",[e._v(e._s(t.value))])]):"error"===t.type?s("div",{staticClass:"alert alert-danger alert-dismissible"},[s("button",{staticClass:"close",attrs:{"data-target":"message"+t.id,"data-dismiss":"alert","aria-label":"delete"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),e._v(" "),s("div",[e._v(e._s(t.value))])]):s("div",[s("button",{staticClass:"close",attrs:{"data-target":"message"+t.id,"data-dismiss":"alert","aria-label":"delete"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),e._v(" "),s("div",[e._v(e._s(t.value))])])])}),0)},staticRenderFns:[]},g={name:"App",components:{Header:o,Footer:d,FlashMsg:s("VU/8")(p,f,!1,null,null,null).exports}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Header"),this._v(" "),t("div",{staticClass:"container"},[t("FlashMsg"),this._v(" "),t("router-view")],1),this._v(" "),t("Footer")],1)},staticRenderFns:[]};var b=s("VU/8")(g,_,!1,function(e){s("p79c")},null,null).exports,C=s("/ocq"),y=s("Zrlr"),w=s.n(y),$=s("wxAW"),M=s.n($),x=s("mtWM"),F=s.n(x),T="https://sample-crud-springboot.herokuapp.com/clients",k=new(function(){function e(){w()(this,e)}return M()(e,[{key:"findAll",value:function(){return F.a.get(T)}},{key:"findById",value:function(e){return F.a.get(T+"/"+e)}},{key:"getStorageMode",value:function(){return"db"}},{key:"save",value:function(e,t){var s=void 0;return s=t?T+"/new":T+"/"+e.id+"/edit",F.a.post(s,e)}},{key:"deleteById",value:function(e){var t=void 0;return t=T+"/"+e+"/delete",F.a.get(t)}}]),e}()),L={name:"client-liste",data:function(){return{msg:a.a,clients:[],storage_mode:""}},created:function(){var e=this;k.findAll().then(function(t){console.log(t.data),e.clients=t.data}),this.storage_mode=k.getStorageMode()},methods:{create:function(){this.$router.push("/clients/new")},show:function(e){this.$router.push("/clients/"+e)},edit:function(e){this.$router.push("/clients/"+e+"/edit")},deleteClient:function(e){var t=this;confirm(a.a.fiche.boutons.supprimerConfirm)&&(console.log(e),k.deleteById(e).then(function(e){t.sendFlashMessage(a.a.liste.actions.supprimerSucces,"warning"),k.findAll().then(function(e){console.log(e.data),t.clients=e.data})}))},sendFlashMessage:function(e,t){this.$root.$emit("flash message",e,t)}}},S={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("h1",[e._v(e._s(e.msg.liste.clients.vuejs.titre))])])])]),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-bordered table-striped"},[s("thead",[s("tr",[s("th",[e._v(e._s(e.msg.fiche.client.nom))]),e._v(" "),s("th",[e._v(e._s(e.msg.fiche.client.prenom))]),e._v(" "),s("th",[e._v(e._s(e.msg.liste.actions.titre))])])]),e._v(" "),s("tbody",e._l(e.clients,function(t){return s("tr",{key:t.id},[s("td",[e._v(e._s(t.nom))]),e._v(" "),s("td",[e._v(e._s(t.prenom))]),e._v(" "),s("td",[s("routerLink",{staticClass:"btn btn-outline-primary btn-sm",attrs:{to:{name:"client-consult",params:{id:t.id}},title:e.msg.liste.actions.consulterTitle}},[e._v(e._s(e.msg.liste.actions.consulter)+"\n                                    ")]),e._v(" |\n"),e._v(" "),s("routerLink",{staticClass:"btn btn-outline-primary btn-sm",attrs:{to:{name:"client-fiche-edit",params:{id:t.id}},title:e.msg.liste.actions.modifierTitle}},[e._v(e._s(e.msg.liste.actions.modifier)+"\n                                    ")]),e._v(" |\n"),e._v(" "),s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{title:e.msg.liste.actions.supprimerTitle,id:"boutonSupprimer"},on:{click:function(s){return e.deleteClient(t.id)}}},[e._v(e._s(e.msg.liste.actions.supprimer)+"\n                                    ")])],1)])}),0)])]),e._v(" "),s("div",{staticClass:"panel"},[s("routerLink",{staticClass:"btn btn btn-outline-primary btn-sm",attrs:{to:"/clients/new",title:e.msg.fiche.boutons.creerTitle}},[e._v(e._s(e.msg.fiche.boutons.creer)+"\n                ")])],1)]),e._v(" "),s("p",[e._v("Storage mode: "+e._s(e.storage_mode)+" ")])])},staticRenderFns:[]},N=s("VU/8")(L,S,!1,null,null,null).exports,E={name:"client-consult",data:function(){return{msg:a.a,client:{id:null,nom:null,prenom:null}}},beforeRouteEnter:function(e,t,s){k.findById(e.params.id).then(function(e){console.log("View"),console.log(e.data),s(function(t){t.client=e.data})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var e=this;k.findById(this.$route.params.id).then(function(t){console.log("After:"+t.data),e.client=t.data})},cancel:function(){this.$router.push("/clients")},edit:function(e){this.$router.push("/clients/"+e+"/edit")}}},V={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h4",[e._v(e._s(e.msg.fiche.client.titres.consultation+e.client.prenom+" "+e.client.nom))])]),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-2"},[e._v(e._s(e.msg.fiche.client.nom))]),e._v(" "),s("div",{staticClass:"col-md-4"},[e._v(e._s(e.client.nom))])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-2"},[e._v(e._s(e.msg.fiche.client.prenom))]),e._v(" "),s("div",{staticClass:"col-md-4"},[e._v(e._s(e.client.prenom))])])]),e._v(" "),s("div",{staticClass:"card-footer"},[s("routerLink",{staticClass:"btn btn-outline-secondary",attrs:{to:"/clients",title:e.msg.fiche.boutons.annulerTitle}},[s("i",{staticClass:"fa fa-chevron-left"}),e._v(" "+e._s(e.msg.fiche.boutons.annuler)+"\n            ")]),e._v(" "),s("button",{staticClass:"btn btn-outline-primary",attrs:{title:e.msg.liste.actions.modifierTitle},on:{click:function(t){return e.edit(e.client.id)}}},[e._v(e._s(e.msg.liste.actions.modifier)+"\n            ")])],1)])},staticRenderFns:[]},P=s("VU/8")(E,V,!1,null,null,null).exports,A={name:"client-fiche",data:function(){return{msg:a.a,client:{id:null,nom:null,prenom:null}}},beforeRouteEnter:function(e,t,s){void 0===e.params.id?(console.log("New"),s(function(e){e.client={id:null,nom:"",prenom:""}})):k.findById(e.params.id).then(function(e){console.log("Edit"),console.log(e.data),s(function(t){t.client=e.data})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var e=this;k.findById(this.$route.params.id).then(function(t){console.log(t.data),e.client=t.data})},getTitle:function(){return void 0===this.$route.params.id?a.a.fiche.client.titres.creation:a.a.fiche.client.titres.modification+this.client.prenom+" "+this.client.nom},save:function(){var e=this,t={id:this.client.id,nom:this.client.nom,prenom:this.client.prenom};console.log("client => "+h()(t)),null==this.client.id?k.save(t,!0).then(function(t){console.log("Save New"),e.sendFlashMessage(a.a.liste.actions.creerSucces,"success"),e.$router.push("/clients")}):(console.log("Save Edit"),k.save(t,!1).then(function(t){console.log("Save Edit"),e.sendFlashMessage(a.a.liste.actions.modifierSucces,"success"),e.$router.push("/clients")}))},cancel:function(){this.$router.push("/clients")},deleteClient:function(e){var t=this;confirm(a.a.fiche.boutons.supprimerConfirm)&&(console.log(e),k.deleteById(e).then(function(e){t.$router.push("/clients")}),this.sendFlashMessage(a.a.liste.actions.supprimerSucces,"warning"))},sendFlashMessage:function(e,t){this.$root.$emit("flash message",e,t)}}},I={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[s("div",{staticClass:"card-header"},[s("h4",[e._v(e._s(this.getTitle()))])]),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group row mb-2"},[s("label",{staticClass:"col-md-2 col-form-label",attrs:{htmlFor:"clientNomId"}},[e._v(e._s(e.msg.fiche.client.nom))]),e._v(" "),s("div",{staticClass:"col-md-8"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.client.nom,expression:"client.nom"}],staticClass:"form-control",attrs:{id:"clientNomId",name:"nom",type:"text",onChange:"{this.changeNomHandler}",placeholder:e.msg.fiche.client.nomPlaceHolder,required:""},domProps:{value:e.client.nom},on:{input:function(t){t.target.composing||e.$set(e.client,"nom",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"form-group row mb-2"},[s("label",{staticClass:"col-md-2 col-form-label",attrs:{htmlFor:"clientPrenomId"}},[e._v(e._s(e.msg.fiche.client.prenom))]),e._v(" "),s("div",{staticClass:"col-md-8"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.client.prenom,expression:"client.prenom"}],staticClass:"form-control",attrs:{id:"clientPrenomId",name:"prenom",onChange:"{this.changePrenomHandler}",type:"text",placeholder:e.msg.fiche.client.prenomPlaceHolder,required:""},domProps:{value:e.client.prenom},on:{input:function(t){t.target.composing||e.$set(e.client,"prenom",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"card-footer"},[s("button",{staticClass:"btn btn-primary mr-3",attrs:{title:e.msg.fiche.boutons.validerTitle,type:"submit"}},[e._v(e._s(e.msg.fiche.boutons.valider)+"\n\n                ")]),e._v(" "),s("routerLink",{staticClass:"btn btn-outline-secondary mr-3",attrs:{to:"/clients",title:e.msg.fiche.boutons.annulerTitle}},[e._v("\n                    "+e._s(e.msg.fiche.boutons.annuler)+"\n                ")]),e._v(" "),s("button",{staticClass:"btn btn-outline-warning",attrs:{type:"button",title:e.msg.fiche.boutons.supprimerTitle,disabled:null==e.client.id},on:{click:function(t){return e.deleteClient(e.client.id)}}},[e._v(e._s(e.msg.fiche.boutons.supprimer)+"\n                ")])],1)])])},staticRenderFns:[]},B=s("VU/8")(A,I,!1,null,null,null).exports,H={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"welcome"}},[t("div",{attrs:{className:"card"}},[t("div",{attrs:{className:"card-header"}},[t("div",{attrs:{className:"row"}},[t("div",{attrs:{className:"col-md-8"}},[t("h1",[this._v(this._s(this.pageTitle))])])])]),this._v(" "),this._m(0)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{className:"card-body"}},[t("div",{attrs:{className:"container-fluid"}},[t("div",{attrs:{className:"text-center"}},[t("img",{attrs:{src:s("4GjL"),alt:"Logo",className:"img-responsive center-block"}})]),this._v(" "),t("div",{attrs:{className:"text-center"}},[this._v("Développé par:")]),this._v(" "),t("div",{attrs:{className:"text-center"}},[t("h3",[this._v("Daniel Vornicu")])]),this._v(" "),t("div",{attrs:{className:"text-center"}},[this._v("vdany2003@yahoo.com")])])])}]};var R=s("VU/8")({name:"welcome-component",data:function(){return{pageTitle:"Bienvenue sur cette page"}}},H,!1,function(e){s("zbrd")},"data-v-44427b1c",null).exports;n.a.use(C.a);var q=new C.a({routes:[{path:"/",name:"client-liste",component:N},{path:"/clients",name:"client-liste",component:N},{path:"/clients/new",name:"client-fiche-add",component:B},{path:"/clients/:id",name:"client-consult",component:P},{path:"/clients/:id/edit",name:"client-fiche-edit",component:B},{path:"/welcome",name:"welcome-component",component:R}]});s("qb6w"),s("e0XP");n.a.config.productionTip=!1,new n.a({el:"#app",router:q,components:{App:b},template:"<App/>"})},e0XP:function(e,t){},p79c:function(e,t){},qb6w:function(e,t){},zbrd:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.68b29f47991912b57555.js.map